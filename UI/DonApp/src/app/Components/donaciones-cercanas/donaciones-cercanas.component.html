<div>
    <app-header></app-header>
</div>

<div class="d-flex justify-content-center windows-name bg-gris text-black">
    Donaciones Cercanas a ti
</div>
<div class="d-flex justify-content-left filter-bar bg-white text-black">
    <input type="text" placeholder="Buscar artículos" class="form-control" id=buscarTitulo name="tituloBuscado" style="border-radius:2rem; width: 50%; margin: 5px; font-size: 10px; border-color: #b870d4fa;" [(ngModel)]="tituloBuscado" (change)="filtrarPorTitulo($event)">
</div>
<div class="with-margin-top">
    <mat-grid-list cols="5" class="grid-bg" rowHeight="25px"  *ngFor="let dataItem of donacionesCercanasFiltradas">
        <mat-grid-tile class="white-tile" colspan="5" browspan="1">
        </mat-grid-tile>
        <mat-grid-tile class="color-tile" colspan="4" browspan="1" (click)="mostrarFotoArticulo(dataItem)">
            <div class="text-inside-grid">
                <div *ngIf="dataItem.estrellasSegunDonante===1">{{dataItem.titulo}} <a style="color: gold;">★</a></div>
                <div *ngIf="dataItem.estrellasSegunDonante===2">{{dataItem.titulo}} <a style="color: gold;">★★</a></div>
                <div *ngIf="dataItem.estrellasSegunDonante===3">{{dataItem.titulo}} <a style="color: gold;">★★★</a></div>
                <div *ngIf="dataItem.estrellasSegunDonante===4">{{dataItem.titulo}} <a style="color: gold;">★★★★</a></div>
                <div *ngIf="dataItem.estrellasSegunDonante===5">{{dataItem.titulo}} <a style="color: gold;">★★★★★</a></div>
            </div>
        </mat-grid-tile>
        <mat-grid-tile class="color-tile" colspan="1" rowspan="3">
            <img src="/assets/recibir.png" height="50px;" width="50px;" title="Ofrecer donación" (click)="solicitarDonacion(dataItem)">
        </mat-grid-tile>
        <mat-grid-tile class="color-tile" colspan="4" rowspan="1">
            <div class="text-inside-grid-small">{{dataItem.descripcion}}</div>
        </mat-grid-tile>
        <mat-grid-tile class="color-tile" colspan="2" rowspan="1">
            <div class="text-inside-grid">
            <img src="./assets/Posi.png" height="19px;" width="12px;" style="margin: 5px;"/> {{dataItem.distancia}} Km.
            </div>
        </mat-grid-tile>
        <mat-grid-tile class="color-tile" colspan="2" rowspan="1">
            <div *ngIf="dataItem.PuntajeDonador < -0.599"   class="text-inside-grid"><img src="./assets/rate1.png" height="20px;" width="20px;" style="margin: 5px;"/>{{dataItem.Nombre}} {{dataItem.Apellido}}</div>
            <div *ngIf="dataItem.PuntajeDonador > -0.599 && dataItem.PuntajeDonador < -0.199"   class="text-inside-grid"><img src="./assets/rate2.png" height="20px;" width="20px;" style="margin: 5px;"/>{{dataItem.Nombre}} {{dataItem.Apellido}}</div>
            <div *ngIf="dataItem.PuntajeDonador > -0.199 && dataItem.PuntajeDonador < 0.199"   class="text-inside-grid"><img src="./assets/rate3.png" height="20px;" width="20px;" style="margin: 5px;"/>{{dataItem.Nombre}} {{dataItem.Apellido}}</div>
            <div *ngIf="dataItem.PuntajeDonador > 0.199 && dataItem.PuntajeDonador < 0.599"   class="text-inside-grid"><img src="./assets/rate4.png" height="20px;" width="20px;" style="margin: 5px;"/>{{dataItem.Nombre}} {{dataItem.Apellido}}</div>
            <div *ngIf="dataItem.PuntajeDonador > 0.599"   class="text-inside-grid"><img src="./assets/rate5.png" height="20px;" width="20px;" style="margin: 5px;"/>{{dataItem.Nombre}} {{dataItem.Apellido}}</div>
        </mat-grid-tile>
    </mat-grid-list>
    </div>


<footer class="main-footer">
    <div class="d-flex justify-content-center bg-azul text-white">
        <button class="btnradius" type="button" routerLink="/crearnecesidad">
            Crear Necesidad
        </button>
    </div>
</footer>